<div class="intro">

<h1>Welcome to Searchfox</h1>

<h3>
<a href="/mozilla-central/source" style="text-decoration: underline;">Direct link to the tree</a>
</h3>

<p>
Searchfox is a source code indexing tool for Mozilla Firefox. It
indexes C++ and JavaScript code. This is the help page for Searchfox.

<h3>Sample Queries</h3>

<dl>

<dt><code>sample-string</code></dt>
<dd>Do a full-text search for <code>sample-string</code> anywhere in the code.
The search will be case-sensitive based on the checkbox to the right of the searchbox.
You can use spaces or any other characters in the string; they will be treated as
part of the search term.
As a convenience, this search will also return files whose path contains
<code>sample-string</code>.

<dt><code><b>re:</b>sample.str([in]*)g</code></dt>
<dd>Search for the given regular expression in the code.
Case sensitivity is also determined by the check box.

<dt><code><b>path:</b>browser/base</code></dt>
<dd>List all files whose path contains the string <code>browser/base</code>.
This search is always case-insensitive. Spaces are not allowed in paths.

<dt><code><b>pathre:</b>.*\.ipdl$</code></dt>
<dd>List all files whose path matches the given regular expression.
This search is always case-insensitive. Spaces are not allowed in the
regular expression.

<dt><code><b>path:</b>browser/base addTabsProgressListener</code></dt>
<dd>Find all instances of the string <code>addTabProgressListener</code>
in files whose path contains <code>browser/base</code>. The search term
is case sensitive according to the check box. The path is always searched
case insensitively.

<dt><code><b>pathre:</b>\.ipdl$ <b>re:</b>\bns(Int)?Re</code></dt>
<dd>Search for the given regular expression in files whose path matches
the path regular expression. As above, the path regular expression cannot
contain spaces. The other regular expression can contain spaces.

</dl>

<h3>Cross-referencing</h3>

Once you have arrived at a file, you can mouse over identifiers. If
the color of the identifier changes, then clicking on the identifier
will open a context menu for cross-referencing identifiers.

<div id="file">
You can see an example by mousing
over &ldquo;<code><span data-id="#reviveCrashedTab" data-kind="use">reviveCrashedTab</span></code>&rdquo; and
clicking. A context menu will open and you can choose to jump directly
to the definition or to search for all references to the symbol
(definitions, assignments, and uses).

<p>
In JavaScript code, a second option is sometimes offered.  Try mousing
over the same identifier in the following:
&ldquo;<code>SessionStore.<span data-id="#reviveCrashedTab"
data-kind="use" data-extra="SessionStore#reviveCrashedTab"
data-extra-jump="true">reviveCrashedTab</span></code>&rdquo;.
In this case, you're given the opportunity to jump to only
<code>SessionStore.reviveCrashedTab</code> and not
<code>SessionStoreInternal.reviveCrashedTab</code>. Also, since there is only one definition of
<code>SessionStore.reviveCrashedTab</code>, you can jump directly to it.
</div>

<p>
In some cases there is ambiguity whether to search for C++ or
JavaScript implementations of an XPCOM method. Searching for the
method from C++ or JavaScript will find the same-language
implementations of that method as well as the IDL
declaration. Visiting the IDL declaration and searching from there
will yield all implementations.

<h3>Releases</h3>

<h4>Version 1.5 (March 16, 2016)</h4>

<ul>
  <li>IDL support
  <li>XBL support
  <li>Support for C++ variables, enums, and macros
  <li>Indexes generated code
</ul>

<h4>Version 1.0 (January 10, 2016)</h4>

<ul>
<li>Full text search of entire tree<br>

Indexing is provided via <a href="https://livegrep.com">Livegrep</a>.

<li>Cross-referencing JavaScript code<br>

Global variables are indexed as properties. Heuristics allow code
like <code>this.method</code> to be indexed
as <code>Class.method</code> based on context. A variety of class
patterns are supported, although not ES6 classes yet. Test files are
not yet indexed. JavaScript in HTML, XUL, and XBL filed is not yet
indexed.

<li>Cross-referencing C++ code<br>

Only functions are indexed. Support for fields and types is coming
soon.  Methods are indexed by walking up the inheritance hierarchy to
find the uppermost declaration of the method (the root). All methods
transitively overriding that method are indexed together. With
multiple inheritance, there may be more than one root method; in this
case, the first one is chosen arbitrarily. This is a bug to be fixed.

</ul>

<h3>Bug reports</h3>

Please send bug reports to <a href="mailto:billm@mozilla.com">billm@mozilla.com</a>.

</div>
